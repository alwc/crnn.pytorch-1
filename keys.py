# -*- coding: utf-8 -*-
# @Time    : 2018/8/24 10:20
# @Author  : zhoujun

# NOTE: -1 is reserved for 'blank' required by mxnet ctc
BLANK_SYMBOL = '嫑'
no = '0123456789'
num = u'0123456789.-\/:;D,wsCc()zo+v'

all = "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~¥°·×Ιαβγεηιλπτυωϐϒа—‘“”•※€℃ⅠⅡⅢⅣⅤⅥⅧ↓∆∏∶≠≤、䂡一丁七万三上下不与专丕世丘丙业丛东丝丢两严个丫中丰串临丸丹为主丽举乃久义之乌乎乐乔乘乙九也乡书买乱乳乾了予争事二于云互五井亚亢交亥亦产亨京亭亮亲人亿什仁仅今介仍从仑仓仔仕他付仙仝仟代令以仪仰仲件价任份仿企伉伊伍伏伐休众优伙会伞伟传伤伦伪伯估伲伴伶伸似伽但位低住佐佑体何佗余佛作佟你佩佰佳佶佼使侃例供依侠侣侧侬侯便促俄俊俏保俞信俪俭修俯倍倒候倚借倡倩倪债值倾假偌偏做停健偶偿傅傣储催傲像僖僵儒儿允元充兆先光克免兔党兜入內全八公六兮兰共关兴兵其具典兹养兽冀内冉册再冒写军农冠冢冬冯冰冲决况冶冷冻净准凇凉凌减凑凝几凡凤凭凯凸凹出击凿刀刃分切刊刎刑划列刘则刚创初刨利别刮到制刷刹刺刻剂削剌前剑剔剖剥剩剪副割劈力功加务动助劲劳势勃勇勉勒勤勺勾匀包化北匙匝匣匮匹区医匿十千升午卉半华协卓单南博卜卟占卡卢卤卧卫印危即卵卷卿厂厄厅历压厌厘厚原厦去县叁参叄又叉及友双反发叔取受变叙叠叡口古句另叩只叫召叮可台史右叶号司吁吃各合吉吊吋同名后吐向吕吖吗君吝吞吡吨吩含听启吲吴吸吹吻吾呀呆呈告呋呐呕员呢呤周呫呱味呵呼命咀和咏咖咗咙咛咣咨咪咬咯咱咳咸咽品哆哈哌响哒哚哥哨哮哲唇唐唑唛唥售唯唾商啉啡啦啶啼喀喂喃善喉喋喘喙喜喳喷喹喻嗅嗉嗓嗜嗣嗦嗨嗪嗽嘉嘌嘎嘟嘧嘱嘴噁噎噙器噬噻嚏嚼囊四回囟因囡团园困围固国图圆圈土圣在地场圾址均坊坎坏坐坑块坚坛坡坤坦坳垂垃型垠垫埃埋城埔域埠培基堂堵塌塑塔塘塞填境增墨墩墴壁士壬壮声壳壶壹处备复夏外多夜大天太夫央失头夷夹夺奄奇奈奉奋奎契奕套奚奠奥女奴奶好如妆妇妈妊妍妙妥妮妹姆姊始姑姓委姗姘姚姜姝姣姿威娃娄娅娇娘娜娟娠娣娥娩娱娴娸婉婕婚婧婴婵婷媚媛媤嫚嫦嫩嫬嬛子孔孕字存孙孚孛孜孝孟孢季孤学孩孵宁它宇安宋完宏宗官宙定宛宜宝实客宣室宫害家宸容宽宾宿寄密寇富寐寒寓寝察寡寸对寺寻导寿封射将小少尔尖尘尚尤尧尪就尸尹尺尼尽尾尿局层居屈屋屏屑展属山屹岁岐岑岗岚岛岩岬岭岱岳岸峒峡峰峻崇崔崩嵌嵩嵴巍川州巡巢工左巧巨巩差巯己已巴巷巾币市布帅帆师希帐帕帖帘帚帝带席帮常帽幅幕干平年并幸幻幼幽广庄庆床序庐库应底店庙庚府庞废庤度座庭庵庶康廊廓延廷建廿开异弃弎式弓引弗弘弛弟张弥弦弧弯弱弹强归当录彝形彤彦彧彩彬彭影彼往征径待律徐徒徕得徙御復循微徵德心必忆忍志忠忧快念忻怀态怒怖思怡急性怪总恐恒恕恢恤恩恪恬息恰恶恺悉悠患悦您悬悸情惊惜惠惨惰想惹愁愈意感慈慕慢慧慰慷憩懿戈戊成戒或战戟截戴户房所扁扇手才扎扑打托扣执扩扫扬扭扰扶批找承技把抑抒抓投抗折抚抛抜抢护报抬抱抵抹押抽担拆拇拈拉拌拍拐拓拔拖拗招拜拟拧拨择括拭拳拴拼拾拿持挂指按挑挖挚挛挠挡挤挥挫振挺捆捉捌捏捕损捡换据捷授掌掏排探接控推掩掬描提插握揭援搅搏搐搔搜搬搭携搽摄摆摘摩摸撑撒撕撩撼操擦攃支收改攻放政故效敌敏救敖教敢散敦敬数整敷文斌斐斑斗料斛斜斤斧断斯新方於施旁旋族无日旦旧旨早旭旱时旷旺昂昆昊昌明易昔昕星映春是昱昳昼显晃晋晏晒晓晔晕晖晗晚晟晨普景晴晶智暂暑暖暗暧暴曙曝曦曩曲更曹曼曾替最月有朋服朗望朝期朦木未末本札术朱朴朵机杀杂权杆杈杉李杏材村杓杖杜杞束条来杨杭杯杰杵杷松板极枂构枇析枕林枙枚果枝枢枣枪枫枯枳架枷枸柄柏柑柒染柔柘柚柠查柯柱柳柴栀栅标栋栎树栓栗栝校栢栩株样核根格栾桂桃桅案桉桐桑桓桔桠桡桢档桥桩桶梁梅梓梗梢梦梨梭梯械梳梵检棉棋棍棒棓棕棘棠棨森棱椅植椎椒椰椹椽椿楂楔楚楠楤楷楼榄榆榈榔榕榛榜榨榭榴榼槐槟槽槿樊樟模横樱橄橇橘橙橡橼檀檗檬欠次欢欣欧款歆歇歌止正此步武歧歪死殊残殖段殷毁毅毋母每毒毓比毕毗毛毫毯氏民气氖氛氟氢氦氧氨氩氮氯氰水永汀汁求汇汉汕汗汝汞江池污汤汪汰汶汽汾沁沂沃沈沉沐沙沛沟没沥沪沫河沸油治泄泉泊泌泓法泗泛泡波泥注泪泮泯泰泳泵泸泻泼泽泾洁洋洗洛洞津洪洲活洽派流浅浆浊测济浓浙浜浣浦浩浪浮浴海浸涂消涌涎涓涛涟涡涤润涨涩液涵淀淇淋淑淞淡淤淫淮深淳混添淼清渊渍渗渝渠渡渣温渭港渴游湖湘湛湾湿溃溉溏源溢溪溴溶溺滇滋滑滔滚滞满滤滥滨滩滴漂漆漏漕漠漪漱漳漾潇潍潘潜潞潮潼澜澳激瀚灌灏火灭灯灰灵灶灸灼灿炉炎炒炔炙炜炫炭炮点炼烁烂烃烙烟烤烦烧烨烫热烯烷焊焕焙焜焦然煅煎煤照煨煮熄熊熏熙熟熨熬燕燥爆爪爬爱父爻爽片牌牙牛牡牧物牵特犀犬状犹狂狄狗独狭狮狻狼猎猕猗猛猩猪猫献猴獐獾玄率玉王玖玛玟玥玫玮环现玲玳玺玻珀珂珈珉珊珍珎珏珐珑珞珠珣班珮珺球琅理琛琥琦琪琬琰琳琴琼瑀瑁瑄瑕瑙瑚瑜瑞瑟瑰瑶瑾璃璇璐璞璟璨瓜瓣瓦瓶瓷甁甄甘甙甜生用甫田由甲申电男町画甾畄畅界留略番畸疏疑疖疗疚疝疟疠疡疣疤疥疫疬疮疯疱疲疳疸疹疼疽疾痂病症痉痒痔痕痘痛痞痢痣痤痧痨痫痰痱痴痹瘀瘘瘟瘠瘢瘤瘦瘫瘰瘾瘿癀癃癌癓癖癜癣癥癫癭癸登白百皂的皆皇皋皎皑皓皖皮皱皿盂盆盈益盏盐监盒盖盘盛盟目盯盲直相盼盾眉看眝真眠眦眩眶眸眼着睑睛睡督睦睫睾睿瞠瞬瞳瞵瞻矛矢知矩矫短矮石矽矾矿码砂研砜破砷础硅硇硒硕硝硫硬确硷硼碍碎碘碟碧碱碳磁磊磨磷磺礞示礼社祁祈祎祖祛祝神祥票祭祯祺禁禄禅福禧禹离禾秀秃秋种科秘租秦积称移稀程税稔稚稣稳稹穆穗穴究穹空穿突窄窍窒窗窝窥窦窿立竑站竞章竣童竭端竹竺笋笑笔笛笠符第笼等筋筏筑筒答策筛筹签简箍算管箭箱箴篮簇簧簪籍籓米类籽粉粒粗粘粟粤粥粪精糊糕糖糜糠糪系紊素索紧紫累絮繁繆纈纟纠红纤约级纪纬纯纱纳纵纶纷纸纹纺纽纾线练组绅细织终绍经绑绒结绘给绛络绝绞统绣继绪绫续绮绳维绵绷综绿缀缆缇缌缓编缘缚缝缠缨缩缬缴缸缺罂罐网罗罩置署羊羌美羔羚羟羡群羧羰羽羿翁翊翔翘翟翠翰翳翻翼耀老考者耆而耐耗耦耳耵耶耻耿聂聋职聍联聚聪肃肆肉肋肌肖肘肚肛肝肟肠股肢肤肥肩肪肮肯肱育肺肼肽肾肿胀胂胃胆背胍胎胖胚胛胜胝胞胡胫胬胭胯胰胱胶胸胺胼能脂脆脉脊脏脐脑脒脓脘脚脯脱脲脸脾腈腊腋腐腓腔腕腘腙腠腥腭腮腰腱腹腺腻腾腿膀膈膏膑膜膝膦膨膳臀臂臌臣臧自臭至致臻臼舌舍舒舜舞舟航般舱船良艰色艳艺艽艾艿节芃芋芍芎芐芒芙芜芝芡芥芦芩芪芫芬芭芮芯芰花芳芴芷芸芹芽苁苄苈苋苍苏苑苒苓苔苗苛苜苟苠苡若苦苧苯英苷苹茁茂范茄茅茇茉茎茚茛茜茧茯茱茴茵茶茸茹荃荆草荔荚荜荞荟荡荣荧荨荫药荷荻荼荽莉莎莓莘莨莪莫莱莲莵莶获莹菀菁菇菊菌菏菔菖菜菝菟菠菡菥菪華菱菲萃萄萆萌萍萎萘萜萝萤营萦萨萩萱萸萼落葆葚葛葜葡董葫葱葵葶蒂蒋蒌蒎蒙蒜蒡蒲蒸蒺蒽蒿蓂蓄蓉蓓蓖蓝蓟蓣蓦蓬蓼蓿蔓蔗蔘蔚蔡蔬蔷蔹蔺蔻蔼蔽蕊蕙蕟蕲蕴蕾薄薇薏薛薜薢薯薷藏藓藕藜藤藻藿虎虐虑虚虞虫虱虹虾蚀蚁蚂蚌蚓蚕蚝蚣蚧蚯蚴蛆蛇蛋蛎蛛蛟蛤蛭蛮蛰蛲蛸蛹蛾蜀蜂蜈蜕蜗蜚蜜蜡蝉蝎蝥蝮蝰蝴蝶螃融螨螵螺蟅蟒蟹蟾蠲血行衍街衡衣补表衬衰袁袄袋袍袖袢袪被袭裁裂装裕裤裴裸裹褥襄襞西要覆见观规觅视觉角解触言誉计认训讯记讲许论设访诀证诃评识诊词译试诗诚话诞询诤该详语误诱请诸诺调谈谊谐谓谛谜谢谨谭谱谷豆豉豚象豨豪豫豹貂貮貳贝贞负贡财责贤败账货质贫贮贯贰贲贴贵费贺贻贾资赋赌赐赔赖赘赛赞赢赤赫走赵起超越趋足趾趿跌跑跖距跟跨路跳踇踏踝踪蹄蹇蹈蹊蹬蹼躁身躯躺车轧轨轩转轮软轴轶轻载辅辉辐输辛辟辣辨辩辰边辽达迁迅过迈迎运近返还这进远违连迟迦迪迫迭述迷迹追退送适逆选逍透逐递途通速造逢逸逻遂遇遐道遗遥遮遵避邓邢那邦邬邮邱邵邹邻郁郅郊郎郑郝部郭都酊配酏酐酒酚酝酞酣酥酪酮酯酰酱酵酶酸醇醉醋醌醑醒醚醛醯采釉释里重野量金鉍鉴鑫钆钇针钉钊钎钐钕钙钛钞钟钠钡钢钦钩钬钮钯钰钱钳钴钵钻钼钾钿铁铂铃铅铉铊铋铒铜铝铣铬铭铯铰铲铵银铸铺铼链铿销锁锂锆锈锉锋锌锐锑错锚锝锟锡锤锥锦锭键锯锰锵锶镀镁镇镉镊镍镓镜镧镪镫镭镰镶长门闩闪闫闭问闯闲间闵闷闸闽阀阁阈阑阔阙阚阜队阮防阳阴阶阻阿陀附际陆陇陈降限院除险陪陵陶陷隆随隐隔隙障隶隽难雁雄雅集雌雍雏雨雪雯零雷雾需霁霄震霉霍霏霖霜霞霡霰露青靓靖静靛非面革靴靶鞍鞘鞠鞣鞭韦韧韩韬韭音韵領页顶项顺须顽顾顿预颅领颇颈颉颊颌颏颐频颔颖颗颛颜额颞颠颤颧风飞食餐饥饭饮饰饱饲饶饼饿馆馈馋馏馒首香馥馨马驯驰驱驳驴驶驹驻驼驾骁骆验骏骑骚骞骨骰骶骺骼髁髂髋髌髓高髯鬃鬓鬼魂魏鱼鲁鲎鲑鲜鲤鲨鲸鳃鳅鳔鳖鳝鳞鳢鸟鸠鸡鸢鸣鸦鸪鸬鸭鸵鸶鸽鸿鹃鹅鹉鹏鹚鹜鹤鹦鹧鹭鹰鹳鹿麒麓麝麟麦麸麻黄黎黏黑默黛鼎鼓鼠鼻鼾齐齦齿龄龈龋龙龚龟"
txt = '臣击居移鼻炉栀魏展多酚蘑数泥槽野蓝散售占服检含府葵咨德蔓退扫撕岩锂浅福穹蜡吸茯碍旭迪泛般材远猪柏肌止热活搔鑫芷湿耗锆荫稚盏赢梭抑听朋把取癃丝耀丸比厚利冻及衰晋弓怀育支華宽氦健蔡差袖科息济谊钢呼苷窿萤凝染凌结就扩扶分后凇联十础煎贵反巷糪时榆翻资桐起麸常言变大制隙能羟冠蒡气赖蔘张找肺百便恺冷锌衍专援景广三珊祥磨簧馆岛赫娃突薢贝熟值稣眠佳嫩仙晒酵淋甘拔袭于延霜埃响黑疣榈麒蚀茵轮齦翁水乳鳞转盆勃劈搏键泵毕枇斜寝葛职芃告各雪械长哈珂微庤教柯备癖每领聚因残维醯薯七趾绕总豪草园唐陈绷澳阀给液诱禾谱祛芬拜良壮愈诃医缬约涵短铬国戟叁心绿琼路际肯沃玛振孚销奈续民叫方癜拕产翠奠天龙应湘邮镑轩贰咀皂策痰涎链令沉痣喉冀造掩身杭最劲坤儿疚篮烧伟黏激汀境筝彤盒性怪復菲何辐婷鸡氏低癥芐瘤烯他楂葫桉潘易沥尼狂声糖兰萨轴稳尘锦过屋璃呋嘧妮塞瞳板檗泸森滩肾鲤檬斛庄颧廊捷语畸杏氯损膀陇浜超债爆榭系克塑逆扁室蒽环余飞忍谢桥党溪运作腰禅义翼托率胚缀唯杉可植粪庭泊手毒呕鼓碘孟鱼探险速几睡肥标紫烟醇袪渴丰引夏属浓脒饮鹏疡抢惨上庆穿熏崇蜕双妆哮另依向压嗦子海盖准瓣户蛇俭妈规希珈外酰滴力列疾业痹胖里殊弯交巨柿钉癣吲豉母醚闽晕诊萘喳捌曼铜舒恩浮论梢雯农期赛附汁镫迷股脉窥啶次蒿唇但状煨浦匀霰杜寻源柄贴泉商流搽原辰脏扬蛸导虫默疫兽模毛酞脾称珠与麝赝枝耵万茱博厄茂额瘰置风辛京杷文务久整央飘郭布重合伐茄块图关虾请朱任唥润坳都髋蜂奶蔷受厦众颔踝窝亥颐记恶月膏醋泳果贤庙叉层深配膝盈树馥抜锡瘘滋袋士异付吹幽泰急花赵核妇甜只询理南舌胀藻镍高噻锐辽鲜郁脲沐侬究马苓翳团紧芳清彩格哚圳硝犬查消栗氟耐孔促焙群咣黄鳄害戊栾嫬蛋呢并房被蒜尚硫出照木牛摘嗉蛰亚癸钻量容美聍弎添凡营遵观铵固物点枸垂船江猴已萸椒咗腮龄屈疼想葡湖刷酸旁奉嚏仲友芡叔呱喜秋丹枙帕杰螵洁幼敌颌试填泮刺欣阳灭肽藿光梗如带连敏蝶汞络拗莪妙苏雾释谜元补荞浆絮充租酯啉摄坑所秀莱迫胯磺荡佛杂夷苠淫拨钾还箴秘牌势渡东炔网留阁盘燥汗参桔素介虎首茛进闵菟药葆沛姓苍饱蕊种籓练待枳预满睛钆调苄员病淳蓣经委石盐埔氛晨眉早视四榴橡故墴凯难撞瑞褶沿基痘棘褐六亿羔之尾税腻芎密藤麦癓脯才伦授裸咖例疹全铁稹普抛疏杨师油融杀好泡灰冡纳未态疳赤峰垫霍玫酱甙测使瘠需淤枯社干纶索正寒惹栓鸟苡暂竣伍映卷断罕琳滤鲁烙缘疮泪按帽粒肆丁五复肪狻假睦颗乱墨蹬宙洽莨闸票望法则型晴垸菜乙逍左典护鲨吁皿王至杞停站米拓体罩诺夹喘的生季示事近担舟邱柳军随芩尤捈狗改卫载着娠湾西老腔胎摩浸琅穗窦壁崔秦皋火第提磷州糜芥市然特区条吨枣华缓黎祁钞羊乃哆暗谷茴稀觉意瓶界蒙混政刻走坦鞣输宫地槐径治冶角邦艽遥佰菌娜囡溶罐纸穴埋街鸿沫莎权择遂镜瓷噫甫趋膦头局腺粉度痛歆爽棉孜疗倩灸技二孢田卜馈云薄顺门替炼髓悉堵施厅它件橼扭积漕恒贞单死漱独钡简色套洗铸质蝎藏直胃谈宣达蔗纱计傲麟年爬录品定者葱抒话必类洞亭汇蟅刚监工橘名端勒汉靶矾边腹肝空芪姜籍镁详烷初裹圣梨渍萝唑蔻笛枫椽烁肮巴精解肟肃射完为劳撩乌升宇份显操棱椎样胶胺阴伸盼蒲氢疱疲涌蟹代归幻迈豆釉纺住楷旱泻枪硅史排甾隔县弃菪炒鹅虹喹硕仰酶帅竟嵩自曹和妥欧酒酐裕顶静齐塘菱脐鉍味传葶蓼眝冒背律感苋负换溴腾耳蛭半菇恬肢挫宏荧钛吊缝情阈忻犀昆启征俞伤龈问翘刮梅宁估有跌弱灌浣切店陆胸钯鉴岁尔念富限再钩下软成蔽眼荆疑去选彬研瘫防暖拆通呤做昔片根效刀嘌不芦等院岑公筛极床酣麻粘式松桩墩缴滑游柴嗪咬萎痤土历部来莘周或纈间膨骨芯针学具接甁芽末触注屏污萍绒锁镉臂尪官集捡蜗破焦玖醌波养形弹逐榕氮楼城山透姆挂九颈丙苹智化财封鹿肩以薇红徐茁承冬侧香家震创咳巧肛训衬乡铍泗败认茅迅离瓦罗薏珺曝喷芙泌盯倍滨除企吝平膜安白旦奇见凤潍赌允腱筋抗淮悦莲威个氧康咪插珀纷粗醛主潜梦综弧乐缺善陀睾序瘟痧翅括烫津卤杵步码村武紊嗜笋会协费温硒益思建放古吖柱伏脊莫锉位喃共萦灯强舜金竹错杆钴葩签蠲毫疬净臭折扑同春球非评铂呲价柒棒青致搐壳追仁买功也钼右包熨腐沟泽用表顾太棋恳电蓟炎两报畄夫矫内肼航辨血卓实场吗闪砂这先俄少申割钟祺忧锰螨柠加歧千钱河逸旋笨司聖淀沙贺免蕙送肤脱匮颠俊临夭浙嗽惠刘而乔毗蒎蟒肠管露循信羌恢级别兆脂供什囊妊痔辅立台误阶新铅碱抽炙摸剔牙卡佐食桑昌奥象拿桃迎癌辩豫曙尖朵仑助煮蝉阻渊北畅朗硬杯讯钵中号洒真毋港厘症脓舍晶窍须休醒竭批怡证庚洛锋打线机得兵前裂入苁坊樟睑英殷胰厂芍戴樱炭决玻芝凉节小脑保蒸拾推严陪寺牵丽鹤冲蜜仔螺避辣蟾宝洋处从咛在隆尿萆腋口胍帖要淞其啡莵皮痒救糊仪己顿料颉岳匹旨芒泾曲影巯对当志印危慧宾落举擦君扎萄绪灵斯目座冢催据悠银阿绣渗珍蔬堂烤颛羧患装知孕析衡降频剂呀硼快汾统匪襞肉笔叮吐瑟泼塔设构班缩适册术锯嚼伊卵瑚涤佩哌敷铋没世黛桂瓜苗川脈磁奎慈圆玉荷隐胞岐童弥伪伽腿茜熊冰副确底纤棕嵌浴卢瘀浊於修餐嘉相永糠胆滞蓉娘籽蛎无嘴寓段牡祝命雅氨眩雌献划面林苯收婴翔羚蚓衣减咏灶漠雍跟唾坎车癀拉纟醉梓八菊抚回韦盛是行幸琪陷锑肿祭荣开雄碧吡彭席祖纯酪郊挑聆腕艾酊汤纹钙指啊发呐酮拍嗓苦织吉淡星道茶丫沸派琥督丛本斑足傅叶像礼慢扰宜虑程绵亮增诚旧氩诗算剑佑抓夜控考沪窄藓伴明涂描采吴项塌寿器女坏氖甲碳汽障厌字攻齿看蚕內璐兴雁溃那招失人闭验咽音颅霞细悬动霉腥寄胱厉察钳鹰更锻培神荟日渣钠爱抹雷玄壹围洲硷写仟昼簇一铺组胡优镇铝账零宗'
txt_alphabet = BLANK_SYMBOL + txt

no_alphabet = BLANK_SYMBOL + no
num_alphabet = BLANK_SYMBOL + num
all_alphabet = BLANK_SYMBOL + all

if __name__ == '__main__':
    import config
    import random
    import pathlib

    txt_path = config.trainfile
    no_path = config.testfile
    data_list = []
    label_list = []
    with open(txt_path, 'r', encoding='utf-8') as f:
        for line in f.readlines():
            line = line.strip('\n').replace('.jpg ', '.jpg\t').split('\t')
            img_path = pathlib.Path(line[0])
            data_list.append(line[0])
            label_list.append(line[1])
    with open(no_path, 'r', encoding='utf-8') as f:
        for line in f.readlines():
            line = line.strip('\n').replace('.jpg ', '.jpg\t').split('\t')
            img_path = pathlib.Path(line[0])
            data_list.append(line[0])
            label_list.append(line[1])
    a = ''.join(sorted(set((''.join(label_list)))))
    print(a)
    pass